define(["exports","../graph","../extensions/IO","../external/mixin","../external/storage","../external/requestAnimationFunction","../../external/circular-json.amd"],function(a,b,c,d,e,f,g){"use strict";var h=function(a){return a&&a.__esModule?a["default"]:a},i=b.Graph,j=b.AcyclicGraph,k=b.Tree,l=h(c),m=h(d),n=(h(e),h(f)),o=h(g),p=document.querySelector("graphjs-tezcatlipoca");window.Graph=i,window.AcyclicGraph=j,window.Tree=k,window.IO=l,window.tezcatlipoca=p,p.addEventListener("configchange",function(){localStorage.config=o.stringify(p.config)}),p.proxyHandler={d3:{force:{enabled:function(a){var b=function(){return a.apply(this,arguments)};return b.toString=function(){return a.toString()},b}(function(a){s.checked=a})}},state:{selected:function(a){var b=function(){return a.apply(this,arguments)};return b.toString=function(){return a.toString()},b}(function(a){r.value=isNaN(a)?"":a})}};var q=n(function(){console.log("save graph"),localStorage.graph=l.serialize(p.graph)});p.addEventListener("graphchange",q);var r=document.querySelector("#node-id"),s=(document.querySelector("paper-toast#graph-saved"),document.querySelector("#force-layout>paper-checkbox"));s.addEventListener("change",function(){p.config.d3.force.enabled=s.checked});var t=void 0;try{t=l.deserialize(localStorage.graph),document.querySelector("paper-toast#graph-loaded").show()}catch(u){console.error(u)}console.log("apply graph"),p.graph=t,window.graph=t;try{m(p.config,o.parse(localStorage.config),m.OVERRIDE)}catch(u){console.error(u)}});