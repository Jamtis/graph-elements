"use strict";function serialize(a,b){var c={value:a,x:100*Math.random(),y:100*Math.random(),radius:20};if(b.addNode(c),"object"==("undefined"==typeof a?"undefined":_typeof(a)))for(var d in a)try{var e=a[d],f=void 0,g=!0,h=!1,i=void 0;try{for(var j,k=b.nodes[Symbol.iterator]();!(g=(j=k.next()).done);g=!0){var l=j.value;if(l.value===e){f=l;break}}}catch(m){h=!0,i=m}finally{try{!g&&k["return"]&&k["return"]()}finally{if(h)throw i}}f||(f=serialize(e,b)),b.addEdge(c,f)}catch(n){}return c}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};Polymer({is:"graphjs-graph",properties:{nodes:{type:Array,notify:!0,value:function(){return[]}},edges:{type:Array,notify:!0,value:function(){return[]}}},observers:["_nodesChange(nodes.*)","_edgesChange(edges.*)"],_nodesChange:function(a){var b=(a.path.match(/\./g)||[]).length;if(2==b){var c=this.get(a.path.substring(0,a.path.indexOf(".",a.path.indexOf(".")+1))),d=a.path.substr(a.path.lastIndexOf(".")+1);if(c.dependent_edges){var e=!0,f=!1,g=void 0;try{for(var h,i=c.dependent_edges[Symbol.iterator]();!(e=(h=i.next()).done);e=!0){var j=h.value;this.notifyPath("edges."+this.edges.indexOf(j)+".target."+d,j.target[d])}}catch(k){f=!0,g=k}finally{try{!e&&i["return"]&&i["return"]()}finally{if(f)throw g}}}if(c.dependency_edges){var l=!0,m=!1,n=void 0;try{for(var o,p=c.dependency_edges[Symbol.iterator]();!(l=(o=p.next()).done);l=!0){var q=o.value;this.notifyPath("edges."+this.edges.indexOf(q)+".source."+d,q.source[d])}}catch(k){m=!0,n=k}finally{try{!l&&p["return"]&&p["return"]()}finally{if(m)throw n}}}}},_edgesChange:function(a){},addNode:function(a){return this.hasNode(a)?!1:(this.push("nodes",a),!0)},removeNode:function(a){if(this.hasNode(a)){if(a.dependent_edges){var b=!0,c=!1,d=void 0;try{for(var e,f=a.dependent_edges[Symbol.iterator]();!(b=(e=f.next()).done);b=!0){var g=e.value;this.arrayDelete("edges",g)}}catch(h){c=!0,d=h}finally{try{!b&&f["return"]&&f["return"]()}finally{if(c)throw d}}}if(a.dependency_edges){var i=!0,j=!1,k=void 0;try{for(var l,m=a.dependency_edges[Symbol.iterator]();!(i=(l=m.next()).done);i=!0){var n=l.value;this.arrayDelete("edges",n)}}catch(h){j=!0,k=h}finally{try{!i&&m["return"]&&m["return"]()}finally{if(j)throw k}}}return this.arrayDelete("nodes",a),!0}return!1},hasNode:function(a){return-1!=this.nodes.indexOf(a)},addEdge:function(a,b){if(this.hasNode(a)&&this.hasNode(b)&&(b.dependent_edges||(b.dependent_edges=[]),a.dependency_edges||(a.dependency_edges=[]),-1==a.dependency_edges.indexOf(b)&&-1==b.dependent_edges.indexOf(a))){var c={source:a,target:b,loop:a===b};return a.dependency_edges.push(c),b.dependent_edges.push(c),this.push("edges",c),!0}return!1},removeEdge:function(a,b){var c=!0,d=!1,e=void 0;try{for(var f,g=this.edges[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){var h=f.value;h.source==a&&h.target==b&&this.arrayDelete("edges",h)}}catch(i){d=!0,e=i}finally{try{!c&&g["return"]&&g["return"]()}finally{if(d)throw e}}},clear:function(){this.set("edges",[]),this.set("nodes",[])},hasCycle:function(){function a(e,f,g){if(!c.has(e)){if(d.has(e))return g;if(d.add(e),e.dependent_edges){var h=!0,i=!1,j=void 0;try{for(var k,l=e.dependent_edges[Symbol.iterator]();!(h=(k=l.next()).done);h=!0){var m=k.value.source;if(b||m!==f){var n=a.call(this,m,e,g+1);if(n)return n}}}catch(o){i=!0,j=o}finally{try{!h&&l["return"]&&l["return"]()}finally{if(i)throw j}}}c.add(e)}}var b=!0,c=new Set,d=new Set,e=!0,f=!1,g=void 0;try{for(var h,i=this.nodes[Symbol.iterator]();!(e=(h=i.next()).done);e=!0){var j=h.value,k=a.call(this,j,void 0,0);if(k)return!0}}catch(l){f=!0,g=l}finally{try{!e&&i["return"]&&i["return"]()}finally{if(f)throw g}}return!1},importObject:function(a){if("object"!=("undefined"==typeof a?"undefined":_typeof(a)))throw Error("Argument is not an object!");serialize(a,this)}});