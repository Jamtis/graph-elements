"use strict";var _interopRequire=function(a){return a&&a.__esModule?a["default"]:a};global.requestAnimationFrame=require("raf"),global.performance={now:require("performance-now")};var layer=_interopRequire(require("../../external/layer")),mixin=_interopRequire(require("../../external/mixin"));describe("layer",function(){var a=void 0;beforeEach(function(){a={value:0,sub_object:{sub_value:0,sub_value2:0}}});var b={value:1,sub_object:{sub_value:1,sub_value2:1},other_object:{other_value:1}};it("Basic",function(c){var d=layer(a);mixin(d,b,mixin.OVERRIDE),setTimeout(function(){expect(d.value).toBe(b.value),expect(d.sub_object.sub_value).toBe(b.sub_object.sub_value),expect(d.sub_object.sub_value2).toBe(b.sub_object.sub_value2),c()},1100)}),it("Modifier",function(c){var d={value:{set:function(a){var b=function(){return a.apply(this,arguments)};return b.toString=function(){return a.toString()},b}(function(a,b){b(a+1)}),duration:10},sub_object:{sub_value:{set:function(a){var b=function(){return a.apply(this,arguments)};return b.toString=function(){return a.toString()},b}(function(a,b){b(a+2)}),duration:10}}},e=layer(a,d);mixin(e,b,mixin.OVERRIDE),setTimeout(function(){expect(e.value).toBe(b.value+1),expect(e.sub_object.sub_value).toBe(b.sub_object.sub_value+2),expect(e.sub_object.sub_value2).toBe(b.sub_object.sub_value2),c()},100)}),it("Translation",function(c){var d={value:{translate:function(){},duration:10},sub_object:{sub_value:{translate:function(){},duration:10}}},e=layer(a,d);mixin(e,b,mixin.OVERRIDE),setTimeout(function(){expect(e.value).toBe(b.value),expect(e.sub_object.sub_value).toBe(b.sub_object.sub_value),expect(e.sub_object.sub_value2).toBe(b.sub_object.sub_value2),c()},100)})});